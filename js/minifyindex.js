"use strict";var template=document.querySelector("#car-template").content,nave=document.querySelector("#categories-nav"),categID=parameters.get("catid");function getCategories(){fetch(baseLink+"categories").then(function(a){return a.json()}).then(makeCatMenu)}function getCarsByCat(a){fetch(baseLink+"car?categories="+a+"&_embed").then(function(b){return b.json()}).then(showCars)}function makeCatMenu(a){a.forEach(function(b){var c=document.createElement("a");c.textContent=b.name,c.href="?catid="+b.id,nave.appendChild(c)})}getCategories();function showCars(a){a.forEach(showSingleCar)}function showSingleCar(a){var b=template.cloneNode(!0);b.querySelector("h2").textContent=a.title.rendered,b.querySelector(".year span").textContent=a.acf.year,b.querySelector(".horse-power span").textContent=a.acf.horse_power,b.querySelector(".price span").textContent=a.acf.price,b.querySelector("a").href="details.html?carid="+a.id,a._embedded["wp:featuredmedia"]?b.querySelector("img").src=a._embedded["wp:featuredmedia"][0].media_details.sizes.medium.source_url:b.querySelector("img").remove(),document.querySelector("main").appendChild(b),myLoader.classList.add("hide")}function getCars(){fetch(baseLink+"car?_embed").then(function(a){return a.json()}).then(showCars)}categID?getCarsByCat(categID):getCars();